{"version":3,"sources":["StopWatch.js"],"names":["require","h","Component","Stopwatch","props","state","elapsedTime","wrapperStyle","width","height","display","overlayStyle","position","background","opacity","infoContainerStyle","marginLeft","marginRight","marginTop","marginBottom","zIndex","color","infotextStyle","fontSize","timeStyle","fontWeight","fontFamily","startTimer","timerTick","timerRunning","resetTimer","clearTimeout","timer","setState","setTimeout","fmtMSS","s","render","recording","i18n","minAndSec","module","exports"],"mappings":"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","sourcesContent":["const { h, Component } = require('preact')\n\nclass Stopwatch extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { elapsedTime: 0 }\n\n    this.wrapperStyle = {\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n    }\n\n    this.overlayStyle = {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      background: 'black',\n      opacity: 0.7,\n    }\n\n    this.infoContainerStyle = {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginTop: 'auto',\n      marginBottom: 'auto',\n      zIndex: 1,\n      color: 'white',\n    }\n\n    this.infotextStyle = {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginBottom: '1rem',\n      fontSize: '1.5rem',\n    }\n\n    this.timeStyle = {\n      display: 'block',\n      fontWeight: 'bold',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      fontSize: '3rem',\n      fontFamily: 'Courier New',\n    }\n  }\n\n  startTimer () {\n    this.timerTick()\n    this.timerRunning = true\n  }\n\n  resetTimer () {\n    clearTimeout(this.timer)\n    this.setState({ elapsedTime: 0 })\n    this.timerRunning = false\n  }\n\n  timerTick () {\n    this.timer = setTimeout(() => {\n      this.setState({ elapsedTime: this.state.elapsedTime + 1 })\n      this.timerTick()\n    }, 1000)\n  }\n\n  fmtMSS (s) {\n    return (s - (s %= 60)) / 60 + (s > 9 ? ':' : ':0') + s\n  }\n\n  render () {\n    const { recording, i18n } = { ...this.props }\n\n    // second to minutes and seconds\n    const minAndSec = this.fmtMSS(this.state.elapsedTime)\n\n    if (recording && !this.timerRunning) {\n      this.startTimer()\n    }\n\n    if (!recording && this.timerRunning) {\n      this.resetTimer()\n    }\n\n    if (recording) {\n      return (\n        <div style={this.wrapperStyle}>\n          <div style={this.overlayStyle} />\n          <div style={this.infoContainerStyle}>\n            <div style={this.infotextStyle}>\n              {i18n('recording')}\n            </div>\n            <div style={this.timeStyle}>\n              {minAndSec}\n            </div>\n          </div>\n\n        </div>\n      )\n    }\n    return null\n  }\n}\n\nmodule.exports = Stopwatch\n"]}