{"version":3,"sources":["index.js"],"names":["require","Plugin","h","SearchProvider","SearchProviderViews","module","exports","uppy","opts","id","title","type","icon","defaultOptions","hostname","companionUrl","Error","provider","companionHeaders","companionCookiesRule","pluginId","install","view","target","mount","onFirstRender","render","state","uninstall","unmount","VERSION"],"mappings":";;;;;;;;eAAmBA,OAAO,CAAC,YAAD,C;IAAlBC,M,YAAAA,M;;gBACMD,OAAO,CAAC,QAAD,C;IAAbE,C,aAAAA,C;;gBACmBF,OAAO,CAAC,wBAAD,C;IAA1BG,c,aAAAA,c;;gBACwBH,OAAO,CAAC,sBAAD,C;IAA/BI,mB,aAAAA,mB;AAER;AACA;AACA;AACA;;;AACAC,MAAM,CAACC,OAAP;AAAA;;AAGE,oBAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AAAA;;AACvB,+BAAMD,IAAN,EAAYC,IAAZ;AACA,UAAKC,EAAL,GAAU,MAAKD,IAAL,CAAUC,EAAV,IAAgB,UAA1B;AACA,UAAKC,KAAL,GAAa,MAAKF,IAAL,CAAUE,KAAV,IAAmB,UAAhC;AACA,UAAKC,IAAL,GAAY,UAAZ;;AACA,UAAKC,IAAL,GAAY;AAAA,aACV;AAAK,QAAA,OAAO,EAAC,WAAb;AAAyB,QAAA,MAAM,EAAC,IAAhC;AAAqC,QAAA,KAAK,EAAC,IAA3C;AAAgD,uBAAY;AAA5D,SACE;AAAM,QAAA,CAAC,EAAC,qDAAR;AAA8D,QAAA,IAAI,EAAC;AAAnE,QADF,EAEE;AAAM,QAAA,SAAS,EAAC,qBAAhB;AAAsC,QAAA,KAAK,EAAC,IAA5C;AAAiD,QAAA,MAAM,EAAC,IAAxD;AAA6D,QAAA,EAAE,EAAC;AAAhE,QAFF,EAGE;AAAM,QAAA,CAAC,EAAC,2CAAR;AAAoD,QAAA,IAAI,EAAC;AAAzD,QAHF,CADU;AAAA,KAAZ;;AAQA,QAAMC,cAAc,GAAG,EAAvB;AACA,UAAKL,IAAL,gBAAiBK,cAAjB,EAAoCL,IAApC;AACA,UAAKM,QAAL,GAAgB,MAAKN,IAAL,CAAUO,YAA1B;;AAEA,QAAI,CAAC,MAAKD,QAAV,EAAoB;AAClB,YAAM,IAAIE,KAAJ,CAAU,+EAAV,CAAN;AACD;;AAED,UAAKC,QAAL,GAAgB,IAAId,cAAJ,CAAmBI,IAAnB,EAAyB;AACvCQ,MAAAA,YAAY,EAAE,MAAKP,IAAL,CAAUO,YADe;AAEvCG,MAAAA,gBAAgB,EAAE,MAAKV,IAAL,CAAUU,gBAFW;AAGvCC,MAAAA,oBAAoB,EAAE,MAAKX,IAAL,CAAUW,oBAHO;AAIvCF,MAAAA,QAAQ,EAAE,UAJ6B;AAKvCG,MAAAA,QAAQ,EAAE,MAAKX;AALwB,KAAzB,CAAhB;AArBuB;AA4BxB;;AA/BH;;AAAA,SAiCEY,OAjCF,GAiCE,mBAAW;AACT,SAAKC,IAAL,GAAY,IAAIlB,mBAAJ,CAAwB,IAAxB,EAA8B;AACxCa,MAAAA,QAAQ,EAAE,KAAKA;AADyB,KAA9B,CAAZ;AAIA,QAAMM,MAAM,GAAG,KAAKf,IAAL,CAAUe,MAAzB;;AACA,QAAIA,MAAJ,EAAY;AACV,WAAKC,KAAL,CAAWD,MAAX,EAAmB,IAAnB;AACD;AACF,GA1CH;;AAAA,SA4CEE,aA5CF,GA4CE,yBAAiB,CACf;AACD,GA9CH;;AAAA,SAgDEC,MAhDF,GAgDE,gBAAQC,KAAR,EAAe;AACb,WAAO,KAAKL,IAAL,CAAUI,MAAV,CAAiBC,KAAjB,CAAP;AACD,GAlDH;;AAAA,SAoDEC,SApDF,GAoDE,qBAAa;AACX,SAAKC,OAAL;AACD,GAtDH;;AAAA;AAAA,EAAwC5B,MAAxC,UACS6B,OADT","sourcesContent":["const { Plugin } = require('@uppy/core')\nconst { h } = require('preact')\nconst { SearchProvider } = require('@uppy/companion-client')\nconst { SearchProviderViews } = require('@uppy/provider-views')\n\n/**\n * Unsplash\n *\n */\nmodule.exports = class Unsplash extends Plugin {\n  static VERSION = require('../package.json').version\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'Unsplash'\n    this.title = this.opts.title || 'Unsplash'\n    this.type = 'acquirer'\n    this.icon = () => (\n      <svg viewBox=\"0 0 32 32\" height=\"32\" width=\"32\" aria-hidden=\"true\">\n        <path d=\"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z\" fill=\"#fff\" />\n        <rect className=\"uppy-ProviderIconBg\" width=\"32\" height=\"32\" rx=\"16\" />\n        <path d=\"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z\" fill=\"#fff\" />\n      </svg>\n    )\n\n    const defaultOptions = {}\n    this.opts = { ...defaultOptions, ...opts }\n    this.hostname = this.opts.companionUrl\n\n    if (!this.hostname) {\n      throw new Error('Companion hostname is required, please consult https://uppy.io/docs/companion')\n    }\n\n    this.provider = new SearchProvider(uppy, {\n      companionUrl: this.opts.companionUrl,\n      companionHeaders: this.opts.companionHeaders,\n      companionCookiesRule: this.opts.companionCookiesRule,\n      provider: 'unsplash',\n      pluginId: this.id,\n    })\n  }\n\n  install () {\n    this.view = new SearchProviderViews(this, {\n      provider: this.provider,\n    })\n\n    const target = this.opts.target\n    if (target) {\n      this.mount(target, this)\n    }\n  }\n\n  onFirstRender () {\n    // do nothing\n  }\n\n  render (state) {\n    return this.view.render(state)\n  }\n\n  uninstall () {\n    this.unmount()\n  }\n}\n"]}