{"version":3,"sources":["StatusBar.js"],"names":["throttle","require","classNames","statusBarStates","prettierBytes","prettyETA","h","calculateProcessingProgress","files","progresses","Object","keys","forEach","fileID","progress","preprocess","push","postprocess","mode","message","value","filter","isDeterminate","reduce","total","index","all","length","togglePauseResume","props","isAllComplete","resumableUploads","cancelAll","isAllPaused","resumeAll","pauseAll","module","exports","newFiles","allowNewUpload","isUploadInProgress","error","hideUploadButton","hidePauseResumeButton","hideCancelButton","hideRetryButton","uploadState","progressValue","totalProgress","progressMode","progressBarContent","STATE_PREPROCESSING","STATE_POSTPROCESSING","ProgressBarProcessing","STATE_COMPLETE","ProgressBarComplete","STATE_UPLOADING","supportsUploadProgress","ProgressBarUploading","STATE_ERROR","undefined","ProgressBarError","width","isHidden","STATE_WAITING","hideAfterFinish","showUploadBtn","showCancelBtn","showPauseResumeBtn","showRetryBtn","showDoneBtn","doneButtonHandler","progressClassNames","statusBarClassNames","isTargetDOMEl","UploadBtn","uploadBtnClassNames","i18n","smart_count","startUpload","isUploadStarted","RetryBtn","retryAll","CancelBtn","PauseResumeButton","title","DoneBtn","LoadingSpinner","Math","round","renderDot","ProgressDetails","ifShowFilesUploadedOfTotal","numUploads","complete","totalUploadedSize","totalSize","time","totalETA","UnknownProgressDetails","UploadNewlyAddedFiles","ThrottledProgressDetails","leading","trailing","showUploadNewlyAddedFiles","showProgressDetails","displayErrorAlert","errorMessage","alert"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AACA,IAAME,eAAe,GAAGF,OAAO,CAAC,mBAAD,CAA/B;;AACA,IAAMG,aAAa,GAAGH,OAAO,CAAC,6BAAD,CAA7B;;AACA,IAAMI,SAAS,GAAGJ,OAAO,CAAC,2BAAD,CAAzB;;eACcA,OAAO,CAAC,QAAD,C;IAAbK,C,YAAAA,C;;AAER,SAASC,2BAAT,CAAsCC,KAAtC,EAA6C;AAC3C;AACA,MAAMC,UAAU,GAAG,EAAnB;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmBI,OAAnB,CAA2B,UAACC,MAAD,EAAY;AAAA,QAC7BC,QAD6B,GAChBN,KAAK,CAACK,MAAD,CADW,CAC7BC,QAD6B;;AAErC,QAAIA,QAAQ,CAACC,UAAb,EAAyB;AACvBN,MAAAA,UAAU,CAACO,IAAX,CAAgBF,QAAQ,CAACC,UAAzB;AACD;;AACD,QAAID,QAAQ,CAACG,WAAb,EAA0B;AACxBR,MAAAA,UAAU,CAACO,IAAX,CAAgBF,QAAQ,CAACG,WAAzB;AACD;AACF,GARD,EAH2C,CAa3C;AACA;;AAd2C,qBAejBR,UAAU,CAAC,CAAD,CAfO;AAAA,MAenCS,IAfmC,gBAenCA,IAfmC;AAAA,MAe7BC,OAf6B,gBAe7BA,OAf6B;AAgB3C,MAAMC,KAAK,GAAGX,UAAU,CAACY,MAAX,CAAkBC,aAAlB,EAAiCC,MAAjC,CAAwC,UAACC,KAAD,EAAQV,QAAR,EAAkBW,KAAlB,EAAyBC,GAAzB,EAAiC;AACrF,WAAOF,KAAK,GAAGV,QAAQ,CAACM,KAAT,GAAiBM,GAAG,CAACC,MAApC;AACD,GAFa,EAEX,CAFW,CAAd;;AAGA,WAASL,aAAT,CAAwBR,QAAxB,EAAkC;AAChC,WAAOA,QAAQ,CAACI,IAAT,KAAkB,aAAzB;AACD;;AAED,SAAO;AACLA,IAAAA,IAAI,EAAJA,IADK;AAELC,IAAAA,OAAO,EAAPA,OAFK;AAGLC,IAAAA,KAAK,EAALA;AAHK,GAAP;AAKD;;AAED,SAASQ,iBAAT,CAA4BC,KAA5B,EAAmC;AACjC,MAAIA,KAAK,CAACC,aAAV,EAAyB;;AAEzB,MAAI,CAACD,KAAK,CAACE,gBAAX,EAA6B;AAC3B,WAAOF,KAAK,CAACG,SAAN,EAAP;AACD;;AAED,MAAIH,KAAK,CAACI,WAAV,EAAuB;AACrB,WAAOJ,KAAK,CAACK,SAAN,EAAP;AACD;;AAED,SAAOL,KAAK,CAACM,QAAN,EAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiB,UAACR,KAAD,EAAW;AAC1BA,EAAAA,KAAK,GAAGA,KAAK,IAAI,EAAjB;AAD0B,eActBA,KAdsB;AAAA,MAIxBS,QAJwB,UAIxBA,QAJwB;AAAA,MAKxBC,cALwB,UAKxBA,cALwB;AAAA,MAMxBC,kBANwB,UAMxBA,kBANwB;AAAA,MAOxBP,WAPwB,UAOxBA,WAPwB;AAAA,MAQxBF,gBARwB,UAQxBA,gBARwB;AAAA,MASxBU,KATwB,UASxBA,KATwB;AAAA,MAUxBC,gBAVwB,UAUxBA,gBAVwB;AAAA,MAWxBC,qBAXwB,UAWxBA,qBAXwB;AAAA,MAYxBC,gBAZwB,UAYxBA,gBAZwB;AAAA,MAaxBC,eAbwB,UAaxBA,eAbwB;AAgB1B,MAAMC,WAAW,GAAGjB,KAAK,CAACiB,WAA1B;AAEA,MAAIC,aAAa,GAAGlB,KAAK,CAACmB,aAA1B;AACA,MAAIC,YAAJ;AACA,MAAIC,kBAAJ;;AAEA,MAAIJ,WAAW,KAAK3C,eAAe,CAACgD,mBAAhC,IAAuDL,WAAW,KAAK3C,eAAe,CAACiD,oBAA3F,EAAiH;AAC/G,QAAMtC,QAAQ,GAAGP,2BAA2B,CAACsB,KAAK,CAACrB,KAAP,CAA5C;AACAyC,IAAAA,YAAY,GAAGnC,QAAQ,CAACI,IAAxB;;AACA,QAAI+B,YAAY,KAAK,aAArB,EAAoC;AAClCF,MAAAA,aAAa,GAAGjC,QAAQ,CAACM,KAAT,GAAiB,GAAjC;AACD;;AAED8B,IAAAA,kBAAkB,GAAGG,qBAAqB,CAACvC,QAAD,CAA1C;AACD,GARD,MAQO,IAAIgC,WAAW,KAAK3C,eAAe,CAACmD,cAApC,EAAoD;AACzDJ,IAAAA,kBAAkB,GAAGK,mBAAmB,CAAC1B,KAAD,CAAxC;AACD,GAFM,MAEA,IAAIiB,WAAW,KAAK3C,eAAe,CAACqD,eAApC,EAAqD;AAC1D,QAAI,CAAC3B,KAAK,CAAC4B,sBAAX,EAAmC;AACjCR,MAAAA,YAAY,GAAG,eAAf;AACAF,MAAAA,aAAa,GAAG,IAAhB;AACD;;AAEDG,IAAAA,kBAAkB,GAAGQ,oBAAoB,CAAC7B,KAAD,CAAzC;AACD,GAPM,MAOA,IAAIiB,WAAW,KAAK3C,eAAe,CAACwD,WAApC,EAAiD;AACtDZ,IAAAA,aAAa,GAAGa,SAAhB;AACAV,IAAAA,kBAAkB,GAAGW,gBAAgB,CAAChC,KAAD,CAArC;AACD;;AAED,MAAMiC,KAAK,GAAG,OAAOf,aAAP,KAAyB,QAAzB,GAAoCA,aAApC,GAAoD,GAAlE;AACA,MAAMgB,QAAQ,GAAIjB,WAAW,KAAK3C,eAAe,CAAC6D,aAAhC,IAAiDnC,KAAK,CAACa,gBAAxD,IACXI,WAAW,KAAK3C,eAAe,CAAC6D,aAAhC,IAAiD,CAACnC,KAAK,CAACS,QAAP,GAAkB,CADxD,IAEXQ,WAAW,KAAK3C,eAAe,CAACmD,cAAhC,IAAkDzB,KAAK,CAACoC,eAF9D;AAIA,MAAMC,aAAa,GAAG,CAACzB,KAAD,IAAUH,QAAV,IACjB,CAACE,kBADgB,IACM,CAACP,WADP,IAEjBM,cAFiB,IAEC,CAACG,gBAFxB;AAGA,MAAMyB,aAAa,GAAG,CAACvB,gBAAD,IACjBE,WAAW,KAAK3C,eAAe,CAAC6D,aADf,IAEjBlB,WAAW,KAAK3C,eAAe,CAACmD,cAFrC;AAGA,MAAMc,kBAAkB,GAAGrC,gBAAgB,IAAI,CAACY,qBAArB,IACtBG,WAAW,KAAK3C,eAAe,CAACqD,eADrC;AAGA,MAAMa,YAAY,GAAG5B,KAAK,IAAI,CAACI,eAA/B;AAEA,MAAMyB,WAAW,GAAGzC,KAAK,CAAC0C,iBAAN,IAA2BzB,WAAW,KAAK3C,eAAe,CAACmD,cAA/E;AAEA,MAAMkB,kBAAkB,6DACGvB,YAAY,WAASA,YAAT,GAA0B,EADzC,CAAxB;AAGA,MAAMwB,mBAAmB,GAAGvE,UAAU,CACpC;AAAE,iBAAa2B,KAAK,CAAC6C;AAArB,GADoC,EAEpC,gBAFoC,UAG9B5B,WAH8B,CAAtC;AAMA,SACE;AAAK,IAAA,SAAS,EAAE2B,mBAAhB;AAAqC,mBAAaV;AAAlD,KACE;AACE,IAAA,SAAS,EAAES,kBADb;AAEE,IAAA,KAAK,EAAE;AAAEV,MAAAA,KAAK,EAAKA,KAAL;AAAP,KAFT;AAGE,IAAA,IAAI,EAAC,aAHP;AAIE,qBAAc,GAJhB;AAKE,qBAAc,KALhB;AAME,qBAAef;AANjB,IADF,EASGG,kBATH,EAUE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGgB,aAAa,GAAG,EAAC,SAAD,eAAerC,KAAf;AAAsB,IAAA,WAAW,EAAEiB;AAAnC,KAAH,GAAwD,IADxE,EAEGuB,YAAY,GAAG,EAAC,QAAD,EAAcxC,KAAd,CAAH,GAA6B,IAF5C,EAGGuC,kBAAkB,GAAG,EAAC,iBAAD,EAAuBvC,KAAvB,CAAH,GAAsC,IAH3D,EAIGsC,aAAa,GAAG,EAAC,SAAD,EAAetC,KAAf,CAAH,GAA8B,IAJ9C,EAKGyC,WAAW,GAAG,EAAC,OAAD,EAAazC,KAAb,CAAH,GAA4B,IAL1C,CAVF,CADF;AAoBD,CA3FD;;AA6FA,IAAM8C,SAAS,GAAG,SAAZA,SAAY,CAAC9C,KAAD,EAAW;AAC3B,MAAM+C,mBAAmB,GAAG1E,UAAU,CACpC,cADoC,EAEpC,YAFoC,EAGpC,0BAHoC,EAIpC,kCAJoC,EAKpC;AAAE,0BAAsB2B,KAAK,CAACiB,WAAN,KAAsB3C,eAAe,CAAC6D;AAA9D,GALoC,CAAtC;AAQA,SACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAEY,mBAFb;AAGE,kBAAY/C,KAAK,CAACgD,IAAN,CAAW,cAAX,EAA2B;AAAEC,MAAAA,WAAW,EAAEjD,KAAK,CAACS;AAArB,KAA3B,CAHd;AAIE,IAAA,OAAO,EAAET,KAAK,CAACkD,WAJjB;AAKE;AALF,KAOGlD,KAAK,CAACS,QAAN,IAAkBT,KAAK,CAACmD,eAAxB,GACGnD,KAAK,CAACgD,IAAN,CAAW,iBAAX,EAA8B;AAAEC,IAAAA,WAAW,EAAEjD,KAAK,CAACS;AAArB,GAA9B,CADH,GAEGT,KAAK,CAACgD,IAAN,CAAW,cAAX,EAA2B;AAAEC,IAAAA,WAAW,EAAEjD,KAAK,CAACS;AAArB,GAA3B,CATN,CADF;AAaD,CAtBD;;AAwBA,IAAM2C,QAAQ,GAAG,SAAXA,QAAW,CAACpD,KAAD,EAAW;AAC1B,SACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,kFAFZ;AAGE,kBAAYA,KAAK,CAACgD,IAAN,CAAW,aAAX,CAHd;AAIE,IAAA,OAAO,EAAEhD,KAAK,CAACqD,QAJjB;AAKE;AALF,KAOE;AAAK,mBAAY,MAAjB;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAA0C,IAAA,SAAS,EAAC,aAApD;AAAkE,IAAA,KAAK,EAAC,GAAxE;AAA4E,IAAA,MAAM,EAAC,IAAnF;AAAwF,IAAA,OAAO,EAAC;AAAhG,KACE;AAAM,IAAA,CAAC,EAAC;AAAR,IADF,CAPF,EAUGrD,KAAK,CAACgD,IAAN,CAAW,OAAX,CAVH,CADF;AAcD,CAfD;;AAiBA,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAACtD,KAAD,EAAW;AAC3B,SACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,6CAFZ;AAGE,IAAA,KAAK,EAAEA,KAAK,CAACgD,IAAN,CAAW,QAAX,CAHT;AAIE,kBAAYhD,KAAK,CAACgD,IAAN,CAAW,QAAX,CAJd;AAKE,IAAA,OAAO,EAAEhD,KAAK,CAACG,SALjB;AAME;AANF,KAQE;AAAK,mBAAY,MAAjB;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAA0C,IAAA,SAAS,EAAC,aAApD;AAAkE,IAAA,KAAK,EAAC,IAAxE;AAA6E,IAAA,MAAM,EAAC,IAApF;AAAyF,IAAA,OAAO,EAAC;AAAjG,KACE;AAAG,IAAA,IAAI,EAAC,MAAR;AAAe,IAAA,QAAQ,EAAC;AAAxB,KACE;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,EAAE,EAAC,GAAvB;AAA2B,IAAA,EAAE,EAAC,GAA9B;AAAkC,IAAA,CAAC,EAAC;AAApC,IADF,EAEE;AAAM,IAAA,IAAI,EAAC,MAAX;AAAkB,IAAA,CAAC,EAAC;AAApB,IAFF,CADF,CARF,CADF;AAiBD,CAlBD;;AAoBA,IAAMoD,iBAAiB,GAAG,SAApBA,iBAAoB,CAACvD,KAAD,EAAW;AAAA,MAC3BI,WAD2B,GACLJ,KADK,CAC3BI,WAD2B;AAAA,MACd4C,IADc,GACLhD,KADK,CACdgD,IADc;AAEnC,MAAMQ,KAAK,GAAGpD,WAAW,GAAG4C,IAAI,CAAC,QAAD,CAAP,GAAoBA,IAAI,CAAC,OAAD,CAAjD;AAEA,SACE;AACE,IAAA,KAAK,EAAEQ,KADT;AAEE,kBAAYA,KAFd;AAGE,IAAA,SAAS,EAAC,6CAHZ;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,OAAO,EAAE;AAAA,aAAMzD,iBAAiB,CAACC,KAAD,CAAvB;AAAA,KALX;AAME;AANF,KAQGI,WAAW,GACV;AAAK,mBAAY,MAAjB;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAA0C,IAAA,SAAS,EAAC,aAApD;AAAkE,IAAA,KAAK,EAAC,IAAxE;AAA6E,IAAA,MAAM,EAAC,IAApF;AAAyF,IAAA,OAAO,EAAC;AAAjG,KACE;AAAG,IAAA,IAAI,EAAC,MAAR;AAAe,IAAA,QAAQ,EAAC;AAAxB,KACE;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,EAAE,EAAC,GAAvB;AAA2B,IAAA,EAAE,EAAC,GAA9B;AAAkC,IAAA,CAAC,EAAC;AAApC,IADF,EAEE;AAAM,IAAA,IAAI,EAAC,MAAX;AAAkB,IAAA,CAAC,EAAC;AAApB,IAFF,CADF,CADU,GAQV;AAAK,mBAAY,MAAjB;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAA0C,IAAA,SAAS,EAAC,aAApD;AAAkE,IAAA,KAAK,EAAC,IAAxE;AAA6E,IAAA,MAAM,EAAC,IAApF;AAAyF,IAAA,OAAO,EAAC;AAAjG,KACE;AAAG,IAAA,IAAI,EAAC,MAAR;AAAe,IAAA,QAAQ,EAAC;AAAxB,KACE;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,EAAE,EAAC,GAAvB;AAA2B,IAAA,EAAE,EAAC,GAA9B;AAAkC,IAAA,CAAC,EAAC;AAApC,IADF,EAEE;AAAM,IAAA,CAAC,EAAC,gCAAR;AAAyC,IAAA,IAAI,EAAC;AAA9C,IAFF,CADF,CAhBJ,CADF;AA0BD,CA9BD;;AAgCA,IAAMqD,OAAO,GAAG,SAAVA,OAAU,CAACzD,KAAD,EAAW;AAAA,MACjBgD,IADiB,GACRhD,KADQ,CACjBgD,IADiB;AAEzB,SACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,iFAFZ;AAGE,IAAA,OAAO,EAAEhD,KAAK,CAAC0C,iBAHjB;AAIE;AAJF,KAMGM,IAAI,CAAC,MAAD,CANP,CADF;AAUD,CAZD;;AAcA,IAAMU,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,SACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,mBAAY,MAApD;AAA2D,IAAA,SAAS,EAAC,OAArE;AAA6E,IAAA,KAAK,EAAC,IAAnF;AAAwF,IAAA,MAAM,EAAC;AAA/F,KACE;AAAM,IAAA,CAAC,EAAC,sbAAR;AAA+b,IAAA,QAAQ,EAAC;AAAxc,IADF,CADF;AAKD,CAND;;AAQA,IAAMlC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACxB,KAAD,EAAW;AACvC,MAAMT,KAAK,GAAGoE,IAAI,CAACC,KAAL,CAAW5D,KAAK,CAACT,KAAN,GAAc,GAAzB,CAAd;AAEA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,EAAC,cAAD,OADF,EAEGS,KAAK,CAACX,IAAN,KAAe,aAAf,GAAkCE,KAAlC,eAAqD,EAFxD,EAGGS,KAAK,CAACV,OAHT,CADF;AAOD,CAVD;;AAYA,IAAMuE,SAAS,GAAG,SAAZA,SAAY;AAAA,SAChB,QADgB;AAAA,CAAlB;;AAGA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAC9D,KAAD,EAAW;AACjC,MAAM+D,0BAA0B,GAAG/D,KAAK,CAACgE,UAAN,GAAmB,CAAtD;AAEA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KAEID,0BAA0B,IACvB/D,KAAK,CAACgD,IAAN,CAAW,sBAAX,EAAmC;AACpCiB,IAAAA,QAAQ,EAAEjE,KAAK,CAACiE,QADoB;AAEpChB,IAAAA,WAAW,EAAEjD,KAAK,CAACgE;AAFiB,GAAnC,CAHP,EAQE;AAAM,IAAA,SAAS,EAAC;AAAhB,KAKGD,0BAA0B,IAAIF,SAAS,EAL1C,EAQI7D,KAAK,CAACgD,IAAN,CAAW,qBAAX,EAAkC;AAChCiB,IAAAA,QAAQ,EAAE1F,aAAa,CAACyB,KAAK,CAACkE,iBAAP,CADS;AAEhCvE,IAAAA,KAAK,EAAEpB,aAAa,CAACyB,KAAK,CAACmE,SAAP;AAFY,GAAlC,CARJ,EAcGN,SAAS,EAdZ,EAiBI7D,KAAK,CAACgD,IAAN,CAAW,WAAX,EAAwB;AACtBoB,IAAAA,IAAI,EAAE5F,SAAS,CAACwB,KAAK,CAACqE,QAAP;AADO,GAAxB,CAjBJ,CARF,CADF;AAiCD,CApCD;;AAsCA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACtE,KAAD,EAAW;AACxC,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGA,KAAK,CAACgD,IAAN,CAAW,sBAAX,EAAmC;AAAEiB,IAAAA,QAAQ,EAAEjE,KAAK,CAACiE,QAAlB;AAA4BhB,IAAAA,WAAW,EAAEjD,KAAK,CAACgE;AAA/C,GAAnC,CADH,CADF;AAKD,CAND;;AAQA,IAAMO,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACvE,KAAD,EAAW;AACvC,MAAM+C,mBAAmB,GAAG1E,UAAU,CACpC,cADoC,EAEpC,YAFoC,EAGpC,0BAHoC,EAIpC,4CAJoC,CAAtC;AAOA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACG2B,KAAK,CAACgD,IAAN,CAAW,iBAAX,EAA8B;AAAEC,IAAAA,WAAW,EAAEjD,KAAK,CAACS;AAArB,GAA9B,CADH,CADF,EAIE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAEsC,mBAFb;AAGE,kBAAY/C,KAAK,CAACgD,IAAN,CAAW,cAAX,EAA2B;AAAEC,MAAAA,WAAW,EAAEjD,KAAK,CAACS;AAArB,KAA3B,CAHd;AAIE,IAAA,OAAO,EAAET,KAAK,CAACkD;AAJjB,KAMGlD,KAAK,CAACgD,IAAN,CAAW,QAAX,CANH,CAJF,CADF;AAeD,CAvBD;;AAyBA,IAAMwB,wBAAwB,GAAGrG,QAAQ,CAAC2F,eAAD,EAAkB,GAAlB,EAAuB;AAAEW,EAAAA,OAAO,EAAE,IAAX;AAAiBC,EAAAA,QAAQ,EAAE;AAA3B,CAAvB,CAAzC;;AAEA,IAAM7C,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAC7B,KAAD,EAAW;AACtC,MAAI,CAACA,KAAK,CAACmD,eAAP,IAA0BnD,KAAK,CAACC,aAApC,EAAmD;AACjD,WAAO,IAAP;AACD;;AAED,MAAMuD,KAAK,GAAGxD,KAAK,CAACI,WAAN,GAAoBJ,KAAK,CAACgD,IAAN,CAAW,QAAX,CAApB,GAA2ChD,KAAK,CAACgD,IAAN,CAAW,WAAX,CAAzD;AACA,MAAM2B,yBAAyB,GAAG3E,KAAK,CAACS,QAAN,IAAkBT,KAAK,CAACmD,eAA1D;AAEA,SACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,kBAAYK,KAApD;AAA2D,IAAA,KAAK,EAAEA;AAAlE,KACG,CAACxD,KAAK,CAACI,WAAP,GAAqB,EAAC,cAAD,OAArB,GAA0C,IAD7C,EAEE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGJ,KAAK,CAAC4B,sBAAN,GAAkC4B,KAAlC,UAA4CxD,KAAK,CAACmB,aAAlD,SAAqEqC,KADxE,CADF,EAIG,CAACxD,KAAK,CAACI,WAAP,IAAsB,CAACuE,yBAAvB,IAAoD3E,KAAK,CAAC4E,mBAA1D,GACI5E,KAAK,CAAC4B,sBAAN,GAA+B,EAAC,wBAAD,EAA8B5B,KAA9B,CAA/B,GAAyE,EAAC,sBAAD,EAA4BA,KAA5B,CAD7E,GAEG,IANN,EAOG2E,yBAAyB,GAAG,EAAC,qBAAD,EAA2B3E,KAA3B,CAAH,GAA0C,IAPtE,CAFF,CADF;AAcD,CAtBD;;AAwBA,IAAM0B,mBAAmB,GAAG,SAAtBA,mBAAsB,OAA6B;AAAA,MAA1BP,aAA0B,QAA1BA,aAA0B;AAAA,MAAX6B,IAAW,QAAXA,IAAW;AACvD,SACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,IAAI,EAAC,QAA7C;AAAsD,IAAA,KAAK,EAAEA,IAAI,CAAC,UAAD;AAAjE,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,mBAAY,MAAjB;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAA0C,IAAA,SAAS,EAAC,4CAApD;AAAiG,IAAA,KAAK,EAAC,IAAvG;AAA4G,IAAA,MAAM,EAAC,IAAnH;AAAwH,IAAA,OAAO,EAAC;AAAhI,KACE;AAAM,IAAA,CAAC,EAAC;AAAR,IADF,CADF,EAIGA,IAAI,CAAC,UAAD,CAJP,CADF,CADF,CADF;AAYD,CAbD;;AAeA,IAAMhB,gBAAgB,GAAG,SAAnBA,gBAAmB,QAAgD;AAAA,MAA7CpB,KAA6C,SAA7CA,KAA6C;AAAA,MAAtCyC,QAAsC,SAAtCA,QAAsC;AAAA,MAA5BrC,eAA4B,SAA5BA,eAA4B;AAAA,MAAXgC,IAAW,SAAXA,IAAW;;AACvE,WAAS6B,iBAAT,GAA8B;AAC5B,QAAMC,YAAY,GAAM9B,IAAI,CAAC,cAAD,CAAV,cAAmCpC,KAArD;AACAmE,IAAAA,KAAK,CAACD,YAAD,CAAL;AACD;;AAED,SACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,IAAI,EAAC,OAA7C;AAAqD,IAAA,KAAK,EAAE9B,IAAI,CAAC,cAAD;AAAhE,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,mBAAY,MAAjB;AAAwB,IAAA,SAAS,EAAC,OAAlC;AAA0C,IAAA,SAAS,EAAC,4CAApD;AAAiG,IAAA,KAAK,EAAC,IAAvG;AAA4G,IAAA,MAAM,EAAC,IAAnH;AAAwH,IAAA,OAAO,EAAC;AAAhI,KACE;AAAM,IAAA,CAAC,EAAC;AAAR,IADF,CADF,EAIGA,IAAI,CAAC,cAAD,CAJP,CADF,CADF,EASE;AACE,IAAA,SAAS,EAAC,wBADZ;AAEE,kBAAYpC,KAFd;AAGE,8BAAuB,WAHzB;AAIE,0BAAmB,QAJrB;AAKE,IAAA,IAAI,EAAC,SALP;AAME,IAAA,OAAO,EAAEiE;AANX,SATF,CADF;AAsBD,CA5BD","sourcesContent":["const throttle = require('lodash.throttle')\nconst classNames = require('classnames')\nconst statusBarStates = require('./StatusBarStates')\nconst prettierBytes = require('@transloadit/prettier-bytes')\nconst prettyETA = require('@uppy/utils/lib/prettyETA')\nconst { h } = require('preact')\n\nfunction calculateProcessingProgress (files) {\n  // Collect pre or postprocessing progress states.\n  const progresses = []\n  Object.keys(files).forEach((fileID) => {\n    const { progress } = files[fileID]\n    if (progress.preprocess) {\n      progresses.push(progress.preprocess)\n    }\n    if (progress.postprocess) {\n      progresses.push(progress.postprocess)\n    }\n  })\n\n  // In the future we should probably do this differently. For now we'll take the\n  // mode and message from the first fileâ€¦\n  const { mode, message } = progresses[0]\n  const value = progresses.filter(isDeterminate).reduce((total, progress, index, all) => {\n    return total + progress.value / all.length\n  }, 0)\n  function isDeterminate (progress) {\n    return progress.mode === 'determinate'\n  }\n\n  return {\n    mode,\n    message,\n    value,\n  }\n}\n\nfunction togglePauseResume (props) {\n  if (props.isAllComplete) return\n\n  if (!props.resumableUploads) {\n    return props.cancelAll()\n  }\n\n  if (props.isAllPaused) {\n    return props.resumeAll()\n  }\n\n  return props.pauseAll()\n}\n\nmodule.exports = (props) => {\n  props = props || {}\n\n  const {\n    newFiles,\n    allowNewUpload,\n    isUploadInProgress,\n    isAllPaused,\n    resumableUploads,\n    error,\n    hideUploadButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    hideRetryButton,\n  } = props\n\n  const uploadState = props.uploadState\n\n  let progressValue = props.totalProgress\n  let progressMode\n  let progressBarContent\n\n  if (uploadState === statusBarStates.STATE_PREPROCESSING || uploadState === statusBarStates.STATE_POSTPROCESSING) {\n    const progress = calculateProcessingProgress(props.files)\n    progressMode = progress.mode\n    if (progressMode === 'determinate') {\n      progressValue = progress.value * 100\n    }\n\n    progressBarContent = ProgressBarProcessing(progress)\n  } else if (uploadState === statusBarStates.STATE_COMPLETE) {\n    progressBarContent = ProgressBarComplete(props)\n  } else if (uploadState === statusBarStates.STATE_UPLOADING) {\n    if (!props.supportsUploadProgress) {\n      progressMode = 'indeterminate'\n      progressValue = null\n    }\n\n    progressBarContent = ProgressBarUploading(props)\n  } else if (uploadState === statusBarStates.STATE_ERROR) {\n    progressValue = undefined\n    progressBarContent = ProgressBarError(props)\n  }\n\n  const width = typeof progressValue === 'number' ? progressValue : 100\n  const isHidden = (uploadState === statusBarStates.STATE_WAITING && props.hideUploadButton)\n    || (uploadState === statusBarStates.STATE_WAITING && !props.newFiles > 0)\n    || (uploadState === statusBarStates.STATE_COMPLETE && props.hideAfterFinish)\n\n  const showUploadBtn = !error && newFiles\n    && !isUploadInProgress && !isAllPaused\n    && allowNewUpload && !hideUploadButton\n  const showCancelBtn = !hideCancelButton\n    && uploadState !== statusBarStates.STATE_WAITING\n    && uploadState !== statusBarStates.STATE_COMPLETE\n  const showPauseResumeBtn = resumableUploads && !hidePauseResumeButton\n    && uploadState === statusBarStates.STATE_UPLOADING\n\n  const showRetryBtn = error && !hideRetryButton\n\n  const showDoneBtn = props.doneButtonHandler && uploadState === statusBarStates.STATE_COMPLETE\n\n  const progressClassNames = `uppy-StatusBar-progress\n                           ${progressMode ? `is-${progressMode}` : ''}`\n\n  const statusBarClassNames = classNames(\n    { 'uppy-Root': props.isTargetDOMEl },\n    'uppy-StatusBar',\n    `is-${uploadState}`\n  )\n\n  return (\n    <div className={statusBarClassNames} aria-hidden={isHidden}>\n      <div\n        className={progressClassNames}\n        style={{ width: `${width}%` }}\n        role=\"progressbar\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        aria-valuenow={progressValue}\n      />\n      {progressBarContent}\n      <div className=\"uppy-StatusBar-actions\">\n        {showUploadBtn ? <UploadBtn {...props} uploadState={uploadState} /> : null}\n        {showRetryBtn ? <RetryBtn {...props} /> : null}\n        {showPauseResumeBtn ? <PauseResumeButton {...props} /> : null}\n        {showCancelBtn ? <CancelBtn {...props} /> : null}\n        {showDoneBtn ? <DoneBtn {...props} /> : null}\n      </div>\n    </div>\n  )\n}\n\nconst UploadBtn = (props) => {\n  const uploadBtnClassNames = classNames(\n    'uppy-u-reset',\n    'uppy-c-btn',\n    'uppy-StatusBar-actionBtn',\n    'uppy-StatusBar-actionBtn--upload',\n    { 'uppy-c-btn-primary': props.uploadState === statusBarStates.STATE_WAITING }\n  )\n\n  return (\n    <button\n      type=\"button\"\n      className={uploadBtnClassNames}\n      aria-label={props.i18n('uploadXFiles', { smart_count: props.newFiles })}\n      onClick={props.startUpload}\n      data-uppy-super-focusable\n    >\n      {props.newFiles && props.isUploadStarted\n        ? props.i18n('uploadXNewFiles', { smart_count: props.newFiles })\n        : props.i18n('uploadXFiles', { smart_count: props.newFiles })}\n    </button>\n  )\n}\n\nconst RetryBtn = (props) => {\n  return (\n    <button\n      type=\"button\"\n      className=\"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\"\n      aria-label={props.i18n('retryUpload')}\n      onClick={props.retryAll}\n      data-uppy-super-focusable\n    >\n      <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" width=\"8\" height=\"10\" viewBox=\"0 0 8 10\">\n        <path d=\"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z\" />\n      </svg>\n      {props.i18n('retry')}\n    </button>\n  )\n}\n\nconst CancelBtn = (props) => {\n  return (\n    <button\n      type=\"button\"\n      className=\"uppy-u-reset uppy-StatusBar-actionCircleBtn\"\n      title={props.i18n('cancel')}\n      aria-label={props.i18n('cancel')}\n      onClick={props.cancelAll}\n      data-uppy-super-focusable\n    >\n      <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n          <circle fill=\"#888\" cx=\"8\" cy=\"8\" r=\"8\" />\n          <path fill=\"#FFF\" d=\"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z\" />\n        </g>\n      </svg>\n    </button>\n  )\n}\n\nconst PauseResumeButton = (props) => {\n  const { isAllPaused, i18n } = props\n  const title = isAllPaused ? i18n('resume') : i18n('pause')\n\n  return (\n    <button\n      title={title}\n      aria-label={title}\n      className=\"uppy-u-reset uppy-StatusBar-actionCircleBtn\"\n      type=\"button\"\n      onClick={() => togglePauseResume(props)}\n      data-uppy-super-focusable\n    >\n      {isAllPaused ? (\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n          <g fill=\"none\" fillRule=\"evenodd\">\n            <circle fill=\"#888\" cx=\"8\" cy=\"8\" r=\"8\" />\n            <path fill=\"#FFF\" d=\"M6 4.25L11.5 8 6 11.75z\" />\n          </g>\n        </svg>\n      ) : (\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n          <g fill=\"none\" fillRule=\"evenodd\">\n            <circle fill=\"#888\" cx=\"8\" cy=\"8\" r=\"8\" />\n            <path d=\"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z\" fill=\"#FFF\" />\n          </g>\n        </svg>\n      )}\n    </button>\n  )\n}\n\nconst DoneBtn = (props) => {\n  const { i18n } = props\n  return (\n    <button\n      type=\"button\"\n      className=\"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done\"\n      onClick={props.doneButtonHandler}\n      data-uppy-super-focusable\n    >\n      {i18n('done')}\n    </button>\n  )\n}\n\nconst LoadingSpinner = () => {\n  return (\n    <svg className=\"uppy-StatusBar-spinner\" aria-hidden=\"true\" focusable=\"false\" width=\"14\" height=\"14\">\n      <path d=\"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0\" fillRule=\"evenodd\" />\n    </svg>\n  )\n}\n\nconst ProgressBarProcessing = (props) => {\n  const value = Math.round(props.value * 100)\n\n  return (\n    <div className=\"uppy-StatusBar-content\">\n      <LoadingSpinner />\n      {props.mode === 'determinate' ? `${value}% \\u00B7 ` : ''}\n      {props.message}\n    </div>\n  )\n}\n\nconst renderDot = () =>\n  ' \\u00B7 '\n\nconst ProgressDetails = (props) => {\n  const ifShowFilesUploadedOfTotal = props.numUploads > 1\n\n  return (\n    <div className=\"uppy-StatusBar-statusSecondary\">\n      {\n        ifShowFilesUploadedOfTotal\n        && props.i18n('filesUploadedOfTotal', {\n          complete: props.complete,\n          smart_count: props.numUploads,\n        })\n      }\n      <span className=\"uppy-StatusBar-additionalInfo\">\n        {/* When should we render this dot?\n          1. .-additionalInfo is shown (happens only on desktops)\n          2. AND 'filesUploadedOfTotal' was shown\n        */}\n        {ifShowFilesUploadedOfTotal && renderDot()}\n\n        {\n          props.i18n('dataUploadedOfTotal', {\n            complete: prettierBytes(props.totalUploadedSize),\n            total: prettierBytes(props.totalSize),\n          })\n        }\n\n        {renderDot()}\n\n        {\n          props.i18n('xTimeLeft', {\n            time: prettyETA(props.totalETA),\n          })\n        }\n      </span>\n    </div>\n  )\n}\n\nconst UnknownProgressDetails = (props) => {\n  return (\n    <div className=\"uppy-StatusBar-statusSecondary\">\n      {props.i18n('filesUploadedOfTotal', { complete: props.complete, smart_count: props.numUploads })}\n    </div>\n  )\n}\n\nconst UploadNewlyAddedFiles = (props) => {\n  const uploadBtnClassNames = classNames(\n    'uppy-u-reset',\n    'uppy-c-btn',\n    'uppy-StatusBar-actionBtn',\n    'uppy-StatusBar-actionBtn--uploadNewlyAdded'\n  )\n\n  return (\n    <div className=\"uppy-StatusBar-statusSecondary\">\n      <div className=\"uppy-StatusBar-statusSecondaryHint\">\n        {props.i18n('xMoreFilesAdded', { smart_count: props.newFiles })}\n      </div>\n      <button\n        type=\"button\"\n        className={uploadBtnClassNames}\n        aria-label={props.i18n('uploadXFiles', { smart_count: props.newFiles })}\n        onClick={props.startUpload}\n      >\n        {props.i18n('upload')}\n      </button>\n    </div>\n  )\n}\n\nconst ThrottledProgressDetails = throttle(ProgressDetails, 500, { leading: true, trailing: true })\n\nconst ProgressBarUploading = (props) => {\n  if (!props.isUploadStarted || props.isAllComplete) {\n    return null\n  }\n\n  const title = props.isAllPaused ? props.i18n('paused') : props.i18n('uploading')\n  const showUploadNewlyAddedFiles = props.newFiles && props.isUploadStarted\n\n  return (\n    <div className=\"uppy-StatusBar-content\" aria-label={title} title={title}>\n      {!props.isAllPaused ? <LoadingSpinner /> : null}\n      <div className=\"uppy-StatusBar-status\">\n        <div className=\"uppy-StatusBar-statusPrimary\">\n          {props.supportsUploadProgress ? `${title}: ${props.totalProgress}%` : title}\n        </div>\n        {!props.isAllPaused && !showUploadNewlyAddedFiles && props.showProgressDetails\n          ? (props.supportsUploadProgress ? <ThrottledProgressDetails {...props} /> : <UnknownProgressDetails {...props} />)\n          : null}\n        {showUploadNewlyAddedFiles ? <UploadNewlyAddedFiles {...props} /> : null}\n      </div>\n    </div>\n  )\n}\n\nconst ProgressBarComplete = ({ totalProgress, i18n }) => {\n  return (\n    <div className=\"uppy-StatusBar-content\" role=\"status\" title={i18n('complete')}>\n      <div className=\"uppy-StatusBar-status\">\n        <div className=\"uppy-StatusBar-statusPrimary\">\n          <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-StatusBar-statusIndicator uppy-c-icon\" width=\"15\" height=\"11\" viewBox=\"0 0 15 11\">\n            <path d=\"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z\" />\n          </svg>\n          {i18n('complete')}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst ProgressBarError = ({ error, retryAll, hideRetryButton, i18n }) => {\n  function displayErrorAlert () {\n    const errorMessage = `${i18n('uploadFailed')} \\n\\n ${error}`\n    alert(errorMessage)\n  }\n\n  return (\n    <div className=\"uppy-StatusBar-content\" role=\"alert\" title={i18n('uploadFailed')}>\n      <div className=\"uppy-StatusBar-status\">\n        <div className=\"uppy-StatusBar-statusPrimary\">\n          <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-StatusBar-statusIndicator uppy-c-icon\" width=\"11\" height=\"11\" viewBox=\"0 0 11 11\">\n            <path d=\"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z\" />\n          </svg>\n          {i18n('uploadFailed')}\n        </div>\n      </div>\n      <span\n        className=\"uppy-StatusBar-details\"\n        aria-label={error}\n        data-microtip-position=\"top-right\"\n        data-microtip-size=\"medium\"\n        role=\"tooltip\"\n        onClick={displayErrorAlert}\n      >\n        ?\n      </span>\n    </div>\n  )\n}\n"]}