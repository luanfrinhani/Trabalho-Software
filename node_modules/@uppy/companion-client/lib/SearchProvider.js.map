{"version":3,"sources":["SearchProvider.js"],"names":["RequestClient","require","_getName","id","split","map","s","charAt","toUpperCase","slice","join","module","exports","uppy","opts","provider","name","pluginId","fileUrl","hostname","search","text","queries","get","encodeURIComponent"],"mappings":"AAAA;;;;;;AAEA,IAAMA,aAAa,GAAGC,OAAO,CAAC,iBAAD,CAA7B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD,EAAQ;AACvB,SAAOA,EAAE,CAACC,KAAH,CAAS,GAAT,EAAcC,GAAd,CAAkB,UAACC,CAAD;AAAA,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4BF,CAAC,CAACG,KAAF,CAAQ,CAAR,CAAnC;AAAA,GAAlB,EAAiEC,IAAjE,CAAsE,GAAtE,CAAP;AACD,CAFD;;AAIAC,MAAM,CAACC,OAAP;AAAA;;AACE,0BAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AAAA;;AACvB,sCAAMD,IAAN,EAAYC,IAAZ;AACA,UAAKC,QAAL,GAAgBD,IAAI,CAACC,QAArB;AACA,UAAKZ,EAAL,GAAU,MAAKY,QAAf;AACA,UAAKC,IAAL,GAAY,MAAKF,IAAL,CAAUE,IAAV,IAAkBd,QAAQ,CAAC,MAAKC,EAAN,CAAtC;AACA,UAAKc,QAAL,GAAgB,MAAKH,IAAL,CAAUG,QAA1B;AALuB;AAMxB;;AAPH;;AAAA,SASEC,OATF,GASE,iBAASf,EAAT,EAAa;AACX,WAAU,KAAKgB,QAAf,gBAAkC,KAAKhB,EAAvC,aAAiDA,EAAjD;AACD,GAXH;;AAAA,SAaEiB,MAbF,GAaE,gBAAQC,IAAR,EAAcC,OAAd,EAAuB;AACrBA,IAAAA,OAAO,GAAGA,OAAO,SAAOA,OAAP,GAAmB,EAApC;AACA,WAAO,KAAKC,GAAL,aAAmB,KAAKpB,EAAxB,gBAAqCqB,kBAAkB,CAACH,IAAD,CAAvD,GAAgEC,OAAhE,CAAP;AACD,GAhBH;;AAAA;AAAA,EAA8CtB,aAA9C","sourcesContent":["'use strict'\n\nconst RequestClient = require('./RequestClient')\n\nconst _getName = (id) => {\n  return id.split('-').map((s) => s.charAt(0).toUpperCase() + s.slice(1)).join(' ')\n}\n\nmodule.exports = class SearchProvider extends RequestClient {\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.provider = opts.provider\n    this.id = this.provider\n    this.name = this.opts.name || _getName(this.id)\n    this.pluginId = this.opts.pluginId\n  }\n\n  fileUrl (id) {\n    return `${this.hostname}/search/${this.id}/get/${id}`\n  }\n\n  search (text, queries) {\n    queries = queries ? `&${queries}` : ''\n    return this.get(`search/${this.id}/list?q=${encodeURIComponent(text)}${queries}`)\n  }\n}\n"]}