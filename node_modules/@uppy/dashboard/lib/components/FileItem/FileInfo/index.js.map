{"version":3,"sources":["index.js"],"names":["require","h","prettierBytes","truncateString","renderAcquirerIcon","acquirer","props","i18n","name","icon","renderFileSource","file","source","id","acquirers","map","renderFileName","maxNameLength","containerWidth","meta","renderFileSize","data","size","ErrorButton","onClick","error","module","exports","FileInfo","alert"],"mappings":"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","sourcesContent":["const { h } = require('preact')\nconst prettierBytes = require('@transloadit/prettier-bytes')\nconst truncateString = require('@uppy/utils/lib/truncateString')\n\nconst renderAcquirerIcon = (acquirer, props) => (\n  <span title={props.i18n('fileSource', { name: acquirer.name })}>\n    {acquirer.icon()}\n  </span>\n)\n\nconst renderFileSource = (props) => (\n  props.file.source\n  && props.file.source !== props.id\n    && (\n    <div className=\"uppy-Dashboard-Item-sourceIcon\">\n      {props.acquirers.map(acquirer => {\n        if (acquirer.id === props.file.source) {\n          return renderAcquirerIcon(acquirer, props)\n        }\n      })}\n    </div>\n    )\n)\n\nconst renderFileName = (props) => {\n  // Take up at most 2 lines on any screen\n  let maxNameLength\n  // For very small mobile screens\n  if (props.containerWidth <= 352) {\n    maxNameLength = 35\n  // For regular mobile screens\n  } else if (props.containerWidth <= 576) {\n    maxNameLength = 60\n  // For desktops\n  } else {\n    maxNameLength = 30\n  }\n\n  return (\n    <div className=\"uppy-Dashboard-Item-name\" title={props.file.meta.name}>\n      {truncateString(props.file.meta.name, maxNameLength)}\n    </div>\n  )\n}\n\nconst renderFileSize = (props) => (\n  props.file.data.size\n    && (\n    <div className=\"uppy-Dashboard-Item-statusSize\">\n      {prettierBytes(props.file.data.size)}\n    </div>\n    )\n)\n\nconst ErrorButton = ({ file, onClick }) => {\n  if (file.error) {\n    return (\n      <span\n        className=\"uppy-Dashboard-Item-errorDetails\"\n        aria-label={file.error}\n        data-microtip-position=\"bottom\"\n        data-microtip-size=\"medium\"\n        role=\"tooltip\"\n        onClick={onClick}\n      >\n        ?\n      </span>\n    )\n  }\n  return null\n}\n\nmodule.exports = function FileInfo (props) {\n  return (\n    <div className=\"uppy-Dashboard-Item-fileInfo\" data-uppy-file-source={props.file.source}>\n      {renderFileName(props)}\n      <div className=\"uppy-Dashboard-Item-status\">\n        {renderFileSize(props)}\n        {renderFileSource(props)}\n        <ErrorButton\n          file={props.file}\n          onClick={() => {\n            alert(props.file.error)\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n"]}